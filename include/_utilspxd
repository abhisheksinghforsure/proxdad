# 
# _utilspxd include | MIT License
# 
# This include works as a base for the ProxDad scripts.
# 
# Copyright (C) 2024 Abhishek Singh
# 

# Define colour codes
readonly GREEN="\e[1;32m"
readonly RED="\e[1;31m"
readonly RESET="\e[0m"
readonly CIRCLE="●"

# Check if the script is being run with Bash
if [ -z "$BASH_VERSION" ]; then
    printf "${RED}[ERROR]${RESET} Use 'Bash' to run this script\n" >&2
    exit 1
fi

# Prevent root user from executing script
if [[ $EUID -eq 0 ]]; then
    echo -e "${RED}[ERROR]${RESET} Do not use root privileges"
    exit 1
fi

# Function to check if proxy details have been applied to environment
# Return 0 if http_proxy is active in /etc/environment
is_proxdad_on() {
    grep -q "^http_proxy=" "/etc/environment"
}

# Global variables (readonly for safety)
readonly proxdad_installation_path="$HOME/.proxdad"
readonly proxdad_config_file="${proxdad_installation_path}/proxdad.conf"
